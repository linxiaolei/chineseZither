!function(a){a.extend(a,{throttle:function(b,c,d){function e(){function a(){g=Date.now(),c.apply(h,j)}function e(){f=void 0}var h=this,i=Date.now()-g,j=arguments;d&&!f&&a(),f&&clearTimeout(f),void 0===d&&i>b?a():f=setTimeout(d?e:a,void 0===d?b-i:b)}var f,g=0;return"function"!=typeof c&&(d=c,c=b,b=250),e._zid=c._zid=c._zid||a.proxy(c)._zid,e},debounce:function(b,c,d){return void 0===c?a.throttle(250,b,!1):a.throttle(b,c,void 0===d?!1:d!==!1)}})}(Zepto),function(a,b){function c(){a(b).on("scroll",a.debounce(80,function(){a(b).trigger("scrollStop")},!1))}function d(){a(b).off("scroll"),c()}c(),a(b).on("pageshow",function(c){c.persisted&&a(b).off("touchstart",d).one("touchstart",d)})}(Zepto,window),function(a){a.matchMedia=function(){var b=0,c="gmu-media-detect",d=a.fx.transitionEnd,e=a.fx.cssPrefix,f=a("<style></style>").append("."+c+"{"+e+"transition: width 0.001ms; width: 0; position: absolute; clip: rect(1px, 1px, 1px, 1px);}\n").appendTo("head");return function(e){var g,h,i=c+b++,j=[];return f.append("@media "+e+" { #"+i+" { width: 1px; } }\n"),g=a('<div class="'+c+'" id="'+i+'"></div>').appendTo("body").on(d,function(){h.matches=1===g.width(),a.each(j,function(b,c){a.isFunction(c)&&c.call(h,h)})}),h={matches:1===g.width(),media:e,addListener:function(a){return j.push(a),this},removeListener:function(a){var b=j.indexOf(a);return~b&&j.splice(b,1),this}}}}()}(Zepto),$(function(){$.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"},$.matchMedia($.mediaQuery.ortchange).addListener(function(){$(window).trigger("ortchange")})}),function(a){var b=[];a.fn.imglazyload=function(c){function d(a){var b=k?window:i.offset(),d=b[l.win[0]],e=b[l.win[1]];return d>=a[l.img[0]]-c.threshold-e&&d<=a[l.img[0]]+a[l.img[1]]}function e(d){var e=a(d),f={},g=e;n||(a.each(e.get(0).attributes,function(){~this.name.indexOf("data-")&&(f[this.name]=this.value)}),g=a("<img />").attr(f)),e.trigger("startload"),g.on("load",function(){!n&&e.replaceWith(g),e.trigger("loadcomplete"),g.off("load")}).on("error",function(){var f=a.Event("error");e.trigger(f),f.defaultPrevented||b.push(d),g.off("error").remove(),g.attr("src",c.errorImg)}).addClass(c.extClass).attr("src",e.attr(c.urlName))}function f(){var c,f,g,i;for(c=b.length;c--;)f=a(i=b[c]),g=f.offset(),d(g)&&(h.call(b,c,1),e(i))}function g(){!n&&m&&a(b).append(m)}var h=Array.prototype.splice,c=a.extend({threshold:0,container:window,urlName:"data-url",placeHolder:"",extClass:"",errorImg:"/images/empty.png",eventName:"scrollStop",innerScroll:!1,isVertical:!0},c),i=a(c.container),j=c.isVertical,k=a.isWindow(i.get(0)),l={win:[j?"scrollY":"scrollX",j?"innerHeight":"innerWidth"],img:[j?"top":"left",j?"height":"width"]},m=a(c.placeHolder).length?a(c.placeHolder):null,n=a(this).is("img");return!k&&(l.win=l.img),b=Array.prototype.slice.call(a(b.reverse()).add(this),0).reverse(),a.isFunction(a.fn.imglazyload.detect)?(g(),this):(a(document).ready(function(){g(),f()}),!c.innerScroll&&a(window).on(c.eventName+" ortchange",function(){f()}),a.fn.imglazyload.detect=f,this)}}(Zepto);var gmu=gmu||{version:"@version",$:window.Zepto,staticCall:function(a){var b=a.fn,c=[].slice,d=a();return d.length=1,function(a,e){return d[0]=a,b[e].apply(d,c.call(arguments,2))}}(Zepto)};!function(a,b){function c(a,b,c){(a||"").split(i).forEach(function(a){c(a,b)})}function d(a){return new RegExp("(?:^| )"+a.replace(" "," .* ?")+"(?: |$)")}function e(a){var b=(""+a).split(".");return{e:b[0],ns:b.slice(1).sort().join(" ")}}function f(a,b,c,f){var g,h;return h=e(b),h.ns&&(g=d(h.ns)),a.filter(function(a){return!(!a||h.e&&a.e!==h.e||h.ns&&!g.test(a.ns)||c&&a.cb!==c&&a.cb._cb!==c||f&&a.ctx!==f)})}function g(a,c){return this instanceof g?(c&&b.extend(this,c),this.type=a,this):new g(a,c)}var h=[].slice,i=/\s+/,j=function(){return!1},k=function(){return!0};g.prototype={isDefaultPrevented:j,isPropagationStopped:j,preventDefault:function(){this.isDefaultPrevented=k},stopPropagation:function(){this.isPropagationStopped=k}},a.event={on:function(a,b,d){var f,g=this;return b?(f=this._events||(this._events=[]),c(a,b,function(a,b){var c=e(a);c.cb=b,c.ctx=d,c.ctx2=d||g,c.id=f.length,f.push(c)}),this):this},one:function(a,b,d){var e=this;return b?(c(a,b,function(a,b){var c=function(){return e.off(a,c),b.apply(d||e,arguments)};c._cb=b,e.on(a,c,d)}),this):this},off:function(a,b,d){var e=this._events;return e?a||b||d?(c(a,b,function(a,b){f(e,a,b,d).forEach(function(a){delete e[a.id]})}),this):(this._events=[],this):this},trigger:function(a){var b,c,d,e,i,j=-1;if(!this._events||!a)return this;if("string"==typeof a&&(a=new g(a)),b=h.call(arguments,1),a.args=b,b.unshift(a),c=f(this._events,a.type))for(e=c.length;++j<e;)if((d=a.isPropagationStopped())||!1===(i=c[j]).cb.apply(i.ctx2,b)){d||(a.stopPropagation(),a.preventDefault());break}return this}},a.Event=g}(gmu,gmu.$),function(a){a.parseTpl=function(a,b){var c="var __p=[];with(obj||{}){__p.push('"+a.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(a,b){return"',"+b.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(a,b){return"');"+b.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',d=new Function("obj",c);return b?d(b):d}}(Zepto),function(a,b,c){function d(a){return"[object Object]"===o.call(a)}function e(a,b){a&&Object.keys(a).forEach(function(c){b(c,a[c])})}function f(a){try{a="true"===a?!0:"false"===a?!1:"null"===a?null:+a+""===a?+a:/(?:\{[\s\S]*\}|\[[\s\S]*\])$/.test(a)?JSON.parse(a):a}catch(b){a=c}return a}function g(a){for(var b,d,e={},g=a&&a.attributes,h=g&&g.length;h--;)d=g[h],b=d.name,"data-"===b.substring(0,5)&&(b=b.substring(5),d=f(d.value),d===c||(e[b]=d));return e}function h(e){var f=e.substring(0,1).toLowerCase()+e.substring(1),g=b.fn[f];b.fn[f]=function(f){var g,h,i=n.call(arguments,1),j="string"==typeof f&&f;return b.each(this,function(k,l){if(h=r(l,e)||new a[e](l,d(f)?f:c),"this"===j)return g=h,!1;if(j){if(!b.isFunction(h[j]))throw new Error("组件没有此方法："+j);if(g=h[j].apply(h,i),g!==c&&g!==h)return!1;g=c}}),g!==c?g:this},b.fn[f].noConflict=function(){return b.fn[f]=g,this}}function i(a,c){var d=this;a.superClass&&i.call(d,a.superClass,c),e(r(a,"options"),function(a,e){e.forEach(function(e){var f=e[0],g=e[1];("*"===f||b.isFunction(f)&&f.call(d,c[a])||f===c[a])&&g.call(d)})})}function j(a,d){var f=this;a.superClass&&j.call(f,a.superClass,d),e(r(a,"plugins"),function(a,g){d[a]!==!1&&(e(g,function(a,d){var e;f[a]=b.isFunction(d)&&(e=f[a])?function(){var a,b=f.origin;return f.origin=e,a=d.apply(f,arguments),b===c?delete f.origin:f.origin=b,a}:d}),g._init.call(f))})}function k(){for(var a,c=n.call(arguments),e=c.length;e--;)a=a||c[e],d(c[e])||c.splice(e,1);return c.length?b.extend.apply(null,[!0,{}].concat(c)):a}function l(a,e,f,h,l){var m,n=this;return d(h)&&(l=h,h=c),l&&l.el&&(h=b(l.el)),h&&(n.$el=b(h),h=n.$el[0]),m=n._options=k(e.options,g(h),l),n.template=k(e.template,m.template),n.tpl2html=k(e.tpl2html,m.tpl2html),n.widgetName=a.toLowerCase(),n.eventNs="."+n.widgetName+f,n._init(m),n._options.setup=n.$el&&n.$el.parent()[0]?!0:!1,i.call(n,e,m),j.call(n,e,m),n._create(),n.trigger("ready"),h&&r(h,a,n)&&n.on("destroy",function(){r(h,a,null)}),n}function m(d,f,g){function h(a,b){if("Base"===d)throw new Error("Base类不能直接实例化");return this instanceof h?l.call(this,d,h,i++,a,b):new h(a,b)}"function"!=typeof g&&(g=a.Base);var i=1,j=1;return b.extend(h,{register:function(a,b){var c=r(h,"plugins")||r(h,"plugins",{});return b._init=b._init||p,c[a]=b,h},option:function(a,b,c){var d=r(h,"options")||r(h,"options",{});return d[a]||(d[a]=[]),d[a].push([b,c]),h},inherits:function(a){return m(d+"Sub"+j++,a,h)},extend:function(a){var b=h.prototype,d=g.prototype;q.forEach(function(b){a[b]=k(g[b],a[b]),a[b]&&(h[b]=a[b]),delete a[b]}),e(a,function(a,e){b[a]="function"==typeof e&&d[a]?function(){var b,f=this.$super;return this.$super=function(){var b=n.call(arguments,1);return d[a].apply(this,b)},b=e.apply(this,arguments),f===c?delete this.$super:this.$super=f,b}:e})}}),h.superClass=g,h.prototype=Object.create(g.prototype),h.extend(f),h}var n=[].slice,o=Object.prototype.toString,p=function(){},q=["options","template","tpl2html"],r=function(){var a={},b=0,d="_gid";return function(e,f,g){var h=e[d]||(e[d]=++b),i=a[h]||(a[h]={});return g!==c&&(i[f]=g),null===g&&delete i[f],i[f]}}(),s=a.event;a.define=function(b,c,d){a[b]=m(b,c,d),h(b)},a.isWidget=function(b,c){return c="string"==typeof c?a[c]||p:c,c=c||a.Base,b instanceof c},a.Base=m("Base",{_init:p,_create:p,getEl:function(){return this.$el},on:s.on,one:s.one,off:s.off,trigger:function(c){var d="string"==typeof c?new a.Event(c):c,e=[d].concat(n.call(arguments,1)),f=this._options[d.type],g=this.getEl();return f&&b.isFunction(f)&&!1===f.apply(this,e)&&(d.stopPropagation(),d.preventDefault()),s.trigger.apply(this,e),g&&g.triggerHandler(d,(e.shift(),e)),this},tpl2html:function(a,c){var d=this.template;return d="string"==typeof a?d[a]:(c=a,d),c||~d.indexOf("<%")?b.parseTpl(d,c):d},destroy:function(){this.$el&&this.$el.off(this.eventNs),this.trigger("destroy"),this.off(),this.destroyed=!0}},Object),b.ui=a}(gmu,gmu.$),function(a){function b(){var a=c.attr("hl-cls");clearTimeout(d),c.removeClass(a).removeAttr("hl-cls"),c=null,e.off("touchend touchmove touchcancel",b)}var c,d,e=a(document);a.fn.highlight=function(f,g){return this.each(function(){var h=a(this);h.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.hl"),f&&h.on("touchstart.hl",function(i){var j;c=g?(j=a(i.target).closest(g,this))&&j.length&&j:h,c&&(c.attr("hl-cls",f),d=setTimeout(function(){c.addClass(f)},100),e.on("touchend touchmove touchcancel",b))})})}}(Zepto),function(a,b,c){var d={close:'<a class="ui-dialog-close" title="关闭"><span class="ui-icon ui-icon-delete"></span></a>',mask:'<div class="ui-mask"></div>',title:'<div class="ui-dialog-title"><h3><%=title%></h3></div>',wrap:'<div class="ui-dialog"><div class="ui-dialog-content"></div><% if(btns){ %><div class="ui-dialog-btns"><% for(var i=0, length=btns.length; i<length; i++){var item = btns[i]; %><a class="ui-btn ui-btn-<%=item.index%>" data-key="<%=item.key%>"><%=item.text%></a><% } %></div><% } %></div> '};a.define("Dialog",{options:{autoOpen:!0,buttons:null,closeBtn:!0,mask:!0,width:300,height:"auto",title:null,content:null,scrollMove:!0,container:null,maskClick:null,position:null},getWrap:function(){return this._options._wrap},_init:function(){var a,c=this,e=c._options,f=0,g=b.proxy(c._eventHandler,c),h={};e.defclick="ontouchend"in document?"tap":"click",c.on("ready",function(){e._container=b(e.container||document.body),(e._cIsBody=e._container.is("body"))||e._container.addClass("ui-dialog-container"),h.btns=a=[],e.buttons&&b.each(e.buttons,function(b){a.push({index:++f,text:b,key:b})}),e._mask=e.mask?b(d.mask).appendTo(e._container):null,e._wrap=b(b.parseTpl(d.wrap,h)).appendTo(e._container),e._content=b(".ui-dialog-content",e._wrap),e._title=b(d.title),e._close=e.closeBtn&&b(d.close).highlight("ui-dialog-close-hover"),c.$el=c.$el||e._content,c.title(e.title),c.content(e.content),a.length&&b(".ui-dialog-btns .ui-btn",e._wrap).highlight("ui-state-hover"),e._wrap.css({width:e.width,height:e.height}),b(window).on("ortchange",g),e._wrap.on(e.defclick,g),e._mask&&e._mask.on(e.defclick,g),e.autoOpen&&c.open()})},_create:function(){var a=this._options;this._options.setup&&(a.content=a.content||this.$el.show(),a.title=a.title||this.$el.attr("title"))},_eventHandler:function(a){var c,d,e=this,f=e._options;switch(a.type){case"ortchange":this.refresh();break;case"touchmove":f.scrollMove&&a.preventDefault();break;case f.defclick:if(f._mask&&(b.contains(f._mask[0],a.target)||f._mask[0]===a.target))return setTimeout(function(){e.trigger("maskClick")},20),!1;d=f._wrap.get(0),(c=b(a.target).closest(".ui-dialog-close",d))&&c.length?e.close():(c=b(a.target).closest(".ui-dialog-btns .ui-btn",d))&&c.length&&setTimeout(function(){var a=f.buttons[c.attr("data-key")];return a&&a.apply(e,arguments),!1},20)}},_calculate:function(){var a,c,d=this,e=d._options,f=document.body,g={},h=e._cIsBody,i=Math.round;e.mask&&(g.mask=h?{width:"100%",height:Math.max(f.scrollHeight,f.clientHeight)-1}:{width:"100%",height:"100%"}),a=e._wrap.offset(),c=b(window);var j=-i(a.width/2)+"px";return"string"==typeof e.width&&"%"==e.width.substring(e.width.length-1,e.width.length)&&(j=-i(Number(e.width.substring(0,e.width.length-1))/2)+"%"),g.wrap={left:"50%",marginLeft:j,top:h?i(c.height()/2):"50%",marginTop:-i(a.height/2)+"px"},g},refresh:function(){var a,c,d=this,e=d._options;return e._isOpen&&(c=function(){a=d._calculate(),a.mask&&e._mask.css(a.mask),e._wrap.css(a.wrap)},b.os.ios&&document.activeElement&&/input|textarea|select/i.test(document.activeElement.tagName)?(document.body.scrollLeft=0,setTimeout(c,200)):c()),d},open:function(a,d){var e=this._options;if(e._isOpen=!0,e._wrap.css("display","block"),e._mask&&e._mask.css("display","block"),a!==c&&this.position?this.position(a,d):this.refresh(),b(document).on("touchmove",b.proxy(this._eventHandler,this)),e.disapper){e.distimer&&clearTimeout(e.distimer);var f=this;e.distimer=setTimeout(function(){f.close()},e.disapper)}return this.trigger("open")},close:function(){var a,c=this._options;return c.distimer&&clearTimeout(c.distimer),a=b.Event("beforeClose"),this.trigger(a),a.defaultPrevented?this:(c._isOpen=!1,c._wrap.css("display","none"),c._mask&&c._mask.css("display","none"),b(document).off("touchmove",this._eventHandler),this.trigger("close"))},title:function(a){var b=this._options,d=a!==c;return d&&(a=(b.title=a)?"<h3>"+a+"</h3>":a,b._title.html(a)[a?"prependTo":"remove"](b._wrap),b._close&&b._close.prependTo(b.title?b._title:b._wrap)),d?this:b.title},content:function(a){var b=this._options,d=a!==c;return d&&b._content.empty().append(b.content=a),d?this:b.content},destroy:function(){var a=this._options,c=this._eventHandler;return b(window).off("ortchange",c),b(document).off("touchmove",c),a._wrap.off(a.defclick,c).remove(),a._mask&&a._mask.off(a.defclick,c).remove(),a._close&&a._close.highlight(),this.$super("destroy")}})}(gmu,gmu.$),function(a,b){a.extend(a.fn,{fix:function(c){var d=this;if(d.attr("isFixed"))return d;d.css(c).css("position","fixed").attr("isFixed",!0);var e=a('<div style="position:fixed;top:10px;"></div>').appendTo("body"),f=e[0].getBoundingClientRect().top,g=function(){window.pageYOffset>0&&(e[0].getBoundingClientRect().top!==f&&(d.css("position","absolute"),h(),a(window).on("scrollStop",h),a(window).on("ortchange",h)),a(window).off("scrollStop",g),e.remove())},h=function(){d.css({top:window.pageYOffset+(c.bottom!==b?window.innerHeight-d.height()-c.bottom:c.top||0),left:c.right!==b?document.body.offsetWidth-d.width()-c.right:c.left||0}),"100%"==c.width&&d.css("width",document.body.offsetWidth)};return a(window).on("scrollStop",g),d}})}(Zepto),function(a,b,c){a.define("Gotop",{options:{container:"",useFix:!0,useHide:!0,useAnimation:!1,position:{bottom:10,right:10},afterScroll:null},_init:function(){var a,c,d=this,e=d._options;b.os.version&&b.os.version.substr(0,3)>=7&&(e.position.bottom=40),d.on("ready",function(){a=d.$el,c=b.proxy(d._eventHandler,d),e.useHide&&b(document).on("touchmove",c),b(window).on("touchend touchcancel scrollStop",c),b(window).on("scroll ortchange",c),a.on("click",c),d.on("destroy",function(){b(window).off("touchend touchcancel scrollStop",c),b(document).off("touchmove",c),b(window).off("scroll ortchange",c)}),e.useFix&&a.fix(e.position),e.root=a[0]}),d.on("destroy",function(){d.$el.remove()})},_create:function(){var a=this;return a.$el||(a.$el=b("<div></div>")),a.$el.addClass("ui-gotop").append("<div></div>").appendTo(a._options.container||(a.$el.parent().length?"":document.body)),a},_eventHandler:function(a){var b=this;switch(a.type){case"touchmove":b.hide();break;case"scroll":clearTimeout(b._options._TID);break;case"touchend":case"touchcancel":clearTimeout(b._options._TID),b._options._TID=setTimeout(function(){b._check.call(b)},300);break;case"scrollStop":b._check();break;case"ortchange":b._check.call(b);break;case"click":b._scrollTo()}},_check:function(a){var b=this;return(a!==c?a:window.pageYOffset)>document.documentElement.clientHeight?b.show():b.hide(),b},_scrollTo:function(){var a=this,b=window.pageYOffset;return a.hide(),clearTimeout(a._options._TID),a._options.useAnimation?a._options.moveToTop=setInterval(function(){b>1?(window.scrollBy(0,-Math.min(150,b-1)),b-=150):(clearInterval(a._options.moveToTop),a.trigger("afterScroll"))},25,!0):(window.scrollTo(0,1),a.trigger("afterScroll")),a},show:function(){return this._options.root.style.display="block",this},hide:function(){return this._options.root.style.display="none",this}})}(gmu,gmu.$),function(a){function b(a){return"tagName"in a?a:a.parentNode}function c(a,b,c,d){var e=Math.abs(a-b),f=Math.abs(c-d);return e>=f?a-b>0?"Left":"Right":c-d>0?"Up":"Down"}function d(){j=null,k.last&&(k.el.trigger("longTap"),k={})}function e(){j&&clearTimeout(j),j=null}function f(){g&&clearTimeout(g),h&&clearTimeout(h),i&&clearTimeout(i),j&&clearTimeout(j),g=h=i=j=null,k={}}var g,h,i,j,k={},l=750;a(document).ready(function(){var m,n;a(document.body).bind("touchstart",function(c){m=Date.now(),n=m-(k.last||m),k.el=a(b(c.touches[0].target)),g&&clearTimeout(g),k.x1=c.touches[0].pageX,k.y1=c.touches[0].pageY,n>0&&250>=n&&(k.isDoubleTap=!0),k.last=m,j=setTimeout(d,l)}).bind("touchmove",function(a){e(),k.x2=a.touches[0].pageX,k.y2=a.touches[0].pageY,Math.abs(k.x1-k.x2)>10&&a.preventDefault()}).bind("touchend",function(){e(),k.x2&&Math.abs(k.x1-k.x2)>30||k.y2&&Math.abs(k.y1-k.y2)>30?i=setTimeout(function(){k.el.trigger("swipe"),k.el.trigger("swipe"+c(k.x1,k.x2,k.y1,k.y2)),k={}},0):"last"in k&&(h=setTimeout(function(){var b=a.Event("tap");b.cancelTouch=f,k.el.trigger(b),k.isDoubleTap?(k.el.trigger("doubleTap"),k={}):g=setTimeout(function(){g=null,k.el.trigger("singleTap"),k={}},250)},0))}).bind("touchcancel",f),a(window).bind("scroll",f)}),["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(b){a.fn[b]=function(a){return this.bind(b,a)}})}(Zepto),function(a,b){var c=b.fx.cssPrefix,d=b.fx.transitionEnd;a.define("Panel",{options:{contentWrap:"",scrollMode:"follow",display:"push",position:"right",dismissible:!0,swipeClose:!0},_init:function(){var a=this,c=a._options;a.on("ready",function(){a.displayFn=a._setDisplay(),a.$contentWrap.addClass("ui-panel-animate"),a.$el.on(d,b.proxy(a._eventHandler,a)).hide(),c.dismissible&&a.$panelMask.hide().on("click",b.proxy(a._eventHandler,a)),"follow"!==c.scrollMode&&b(window).on("scrollStop",b.proxy(a._eventHandler,a)),b(window).on("ortchange",b.proxy(a._eventHandler,a))})},_create:function(){if(!this._options.setup)throw new Error("panel组件不支持create模式，请使用setup模式");var a=this,c=a._options,d=a.$el.addClass("ui-panel ui-panel-"+c.position);a.panelWidth=d.width()||0,a.$contentWrap=b(c.contentWrap||d.next()),c.dismissible&&(a.$panelMask=b('<div class="ui-panel-dismiss"></div>').width(document.body.clientWidth).appendTo("body")||null)},_setDisplay:function(){var a,d,e=this,f=e.$el,g=e.$contentWrap,h=c+"transform",i={};return b.each(["push","overlay","reveal"],function(b,c){i[c]=function(b,i,j){var k=e._transDisplayToPos();return a=k[c].panel,d=k[c].cont,f.css(h,"translate3d("+e._transDirectionToPos(i,a[b])+"px,0,0)"),j||(e.$panelMask&&e.$panelMask.toggle(b),g.css(h,"translate3d("+e._transDirectionToPos(i,d[b])+"px,0,0)")),e}}),i},_initPanelPos:function(a,b){return this.displayFn[a](0,b,!0),this.$el.get(0).clientLeft,this},_transDirectionToPos:function(a,b){return"left"===a?b:-b},_transDisplayToPos:function(){var a=this,b=a.panelWidth;return{push:{panel:[-b,0],cont:[0,b]},overlay:{panel:[-b,0],cont:[0,0]},reveal:{panel:[0,0],cont:[0,b]}}},_setShow:function(a,c,d){var e=this,f=e._options,g=a?"open":"close",h=b.Event("before"+g),i=a!==e.state(),j=a?"on":"off",k=a?b.proxy(e._eventHandler,e):e._eventHandler,l=c||f.display,m=d||f.position;return e.trigger(h,[c,d]),h.isDefaultPrevented()?e:(i&&(e._dealState(a,l,m),e.displayFn[l](e.isOpen=Number(a),m),f.swipeClose&&e.$el[j](b.camelCase("swipe-"+m),k),f.display=l,f.position=m),e)},_dealState:function(a,c,e){var f=this,g=f._options,h=f.$el,i=f.$contentWrap,j="ui-panel-"+c+" ui-panel-"+e,k="ui-panel-"+g.display+" ui-panel-"+g.position+" ui-panel-animate";return a&&(h.removeClass(k).addClass(j).show(),"fix"===g.scrollMode&&h.css("top",b(window).scrollTop()),f._initPanelPos(c,e),"reveal"===c?i.addClass("ui-panel-contentWrap").on(d,b.proxy(f._eventHandler,f)):(i.removeClass("ui-panel-contentWrap").off(d,b.proxy(f._eventHandler,f)),h.addClass("ui-panel-animate")),f.$panelMask&&f.$panelMask.css({left:"auto",right:"auto",height:window.clientHeight})),f},_eventHandler:function(a){var c=this,e=c._options,f=e.scrollMode,g=c.state()?"open":"close";switch(a.type){case"click":case"swipeLeft":case"swipeRight":c.close();break;case"scrollStop":"fix"===f?c.$el.css("top",b(window).scrollTop()):c.close();break;case d:c.trigger(g,[e.display,e.position]);break;case"ortchange":c.$panelMask&&c.$panelMask.css("height",window.clientHeight),"fix"===f&&c.$el.css("top",b(window).scrollTop()),"follow"===f&&(c.panelWidth=b(window).width(),this._setShow(c.isOpen))}},refresh:function(){"follow"===this._options.scrollMode&&(this.panelWidth=b(window).width(),this._setShow(this.isOpen))},open:function(a,b){return this._setShow(!0,a,b)},amOpen:function(){return this.isOpen},close:function(){return this._setShow(!1)},toggle:function(a,b){return this[this.isOpen?"close":"open"](a,b)},state:function(){return!!this.isOpen},destroy:function(){return this.$panelMask&&this.$panelMask.off().remove(),this.maskTimer&&clearTimeout(this.maskTimer),this.$contentWrap.removeClass("ui-panel-animate"),b(window).off("scrollStop",this._eventHandler),b(window).off("ortchange",this._eventHandler),this.$super("destroy")}})}(gmu,gmu.$),function(a,b,c){a.define("Refresh",{options:{load:null,statechange:null},_init:function(){var a=this,c=a._options;a.on("ready",function(){b.each(["up","down"],function(b,d){var e=c["$"+d+"Elem"],f=e.get(0);e.length&&(a._status(d,!0),(!f.childNodes.length||e.find(".ui-refresh-icon").length&&e.find(".ui-refresh-label").length)&&(!f.childNodes.length&&a._createBtn(d),c.refreshInfo||(c.refreshInfo={}),c.refreshInfo[d]={$icon:e.find(".ui-refresh-icon"),$label:e.find(".ui-refresh-label"),text:e.find(".ui-refresh-label").html()}),e.on("click",function(){a._status(d)&&!c._actDir&&(a._setStyle(d,"loading"),a._loadingAction(d,"click"))}))})}),a.on("destroy",function(){a.$el.remove()})},_create:function(){var a=this,b=a._options,c=a.$el;a._options.setup&&(b.$upElem=c.find(".ui-refresh-up"),b.$downElem=c.find(".ui-refresh-down"),c.addClass("ui-refresh"))},_createBtn:function(a){return this._options["$"+a+"Elem"].html('<span class="ui-refresh-icon"></span><span class="ui-refresh-label">加载更多</span>'),this},_setStyle:function(a,c){var d=this,e=b.Event("statechange");return d.trigger(e,d._options["$"+a+"Elem"],c,a),e.defaultPrevented?d:d._changeStyle(a,c)},_changeStyle:function(a,b){var c=this._options,d=c.refreshInfo[a];switch(b){case"loaded":d.$label.html(d.text),d.$icon.removeClass(),c._actDir="";break;case"loading":d.$label.html("加载中..."),d.$icon.addClass("ui-loading"),c._actDir=a;break;case"disable":d.$icon.removeClass(),d.$label.html("没有更多内容了")}return this},_loadingAction:function(a,c){var d=this,e=d._options,f=e.load;return b.isFunction(f)&&f.call(d,a,c),d._status(a,!1),d},afterDataLoading:function(a){var b=this,a=a||b._options._actDir;return b._setStyle(a,"loaded"),b._status(a,!0),b},_status:function(a,b){var d=this._options;return b===c?d["_"+a+"Open"]:d["_"+a+"Open"]=!!b},_setable:function(a,c,d){var e=this,f=e._options,g=c?[c]:["up","down"];return b.each(g,function(b,c){var g=f["$"+c+"Elem"];g.length&&(a?g.show():d?g.hide():e._setStyle(c,"disable"),e._status(c,a))}),e},disable:function(a,b){return this._setable(!1,a,b)},enable:function(a){return this._setable(!0,a)}})}(gmu,gmu.$),function(a,b){a.Refresh.register("lite",{_init:function(){var a=this,c=a._options,d=a.$el;return c.seamless&&b(document).on("scrollStop",b.proxy(a._eventHandler,a)),d.on("touchstart touchmove touchend touchcancel",b.proxy(a._eventHandler,a)),c.wrapperH=d.height(),c.wrapperTop=d.offset().top,c._win=window,c._body=document.body,a},_changeStyle:function(a,b){var c=this,d=c._options.refreshInfo[a];return"beforeload"==b&&(d.$icon.removeClass("ui-loading"),d.$label.html("松开立即加载")),c.origin(a,b)},_startHandler:function(a){this._options._startY=a.touches[0].pageY},_moveHandler:function(a){var b=this,c=b._options,d=c._startY,e=d-a.touches[0].pageY,f=c._win.innerHeight,g=c.threshold||(c.wrapperH<f?c.wrapperH/2+c.wrapperTop||0:f/2);if(b._status("down")&&!(0>e))return!c._refreshing&&d>=c._body.scrollHeight-f+g&&e>10&&(b._setStyle("down","beforeload"),c._refreshing=!0),b},_endHandler:function(){var a=this,b=a._options;return a._setStyle("down","loading"),a._loadingAction("down","pull"),b._refreshing=!1,a},_eventHandler:function(a){var b=this,c=b._options;switch(a.type){case"touchstart":b._startHandler(a);break;case"touchmove":clearTimeout(c._endTimer),c._endTimer=setTimeout(function(){b._endHandler()},300),b._moveHandler(a);break;case"touchend":case"touchcancel":clearTimeout(c._endTimer),c._refreshing&&b._endHandler();break;case"scrollStop":!c._refreshing&&c._win.pageYOffset>=c._body.scrollHeight-c._win.innerHeight+(c.threshold||-1)&&b._endHandler()}return b}})}(gmu,gmu.$),function(a,b){var c=b.fx.cssPrefix,d=b.fx.transitionEnd,e=" translateZ(0)";a.define("Slider",{options:{loop:!1,speed:400,index:0,selector:{container:".ui-slider-group"}},template:{item:'<div class="ui-slider-item"><a href="<%= href %>"><img src="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>'},_create:function(){var a=this,c=a.getEl(),e=a._options;a.index=e.index,a._initDom(c,e),a._initWidth(c,a.index),a._container.on(d+a.eventNs,b.proxy(a._tansitionEnd,a)),b(window).on("ortchange"+a.eventNs,function(){a._initWidth(c,a.index)})},_initDom:function(a,c){var d,e,f=c.selector,g=c.viewNum||1;for(e=a.find(f.container),e.length||(e=b("<div></div>"),c.content?this._createItems(e,c.content):a.is("ul")?(this.$el=e.insertAfter(a),e=a,a=this.$el):e.append(a.children()),e.appendTo(a)),(d=e.children()).length<g+1&&(c.loop=!1);c.loop&&e.children().length<3*g;)e.append(d.clone());this.length=e.children().length,this._items=(this._container=e).addClass("ui-slider-group").children().addClass("ui-slider-item").toArray(),this.trigger("done.dom",a.addClass("ui-slider"),c)},_createItems:function(a,b){for(var c=0,d=b.length;d>c;c++)a.append(this.tpl2html("item",b[c]))},_initWidth:function(a,b,c){var d,e=this;(c||(d=a.width())!==e.width)&&(e.width=d,e._arrange(d,b),e.height=a.height(),e.trigger("width.change"))},_arrange:function(a,b){var c,d,e=this._items,f=0;for(this._slidePos=new Array(e.length),d=e.length;d>f;f++)c=e[f],c.style.cssText+="width:"+a+"px;left:"+f*-a+"px;",c.setAttribute("data-index",f),this._move(f,b>f?-a:f>b?a:0,0);this._container.css("width",a*d)},_move:function(a,b,c,d){var e=this._slidePos,f=this._items;e[a]!==b&&f[a]&&(this._translate(a,b,c),e[a]=b,d&&f[a].clientLeft)},_translate:function(a,b,d){var f=this._items[a],g=f&&f.style;return g?void(g.cssText+=c+"transition-duration:"+d+"ms;"+c+"transform: translate("+b+"px, 0)"+e+";"):!1},_circle:function(a,b){var c;return b=b||this._items,c=b.length,(a%c+c)%b.length},_tansitionEnd:function(a){~~a.target.getAttribute("data-index")===this.index&&this.trigger("slideend",this.index)},_slide:function(a,b,c,d,e,f){var g,h=this;return g=h._circle(a-c*b),f.loop||(c=Math.abs(a-g)/(a-g)),this._move(g,-c*d,0,!0),this._move(a,d*c,e),this._move(g,0,e),this.index=g,this.trigger("slide",g,a)},slideTo:function(a,b){if(this.index===a||this.index===this._circle(a))return this;var c=this._options,d=this.index,e=Math.abs(d-a),f=e/(d-a),g=this.width;return b=b||c.speed,this._slide(d,e,f,g,b,c)},prev:function(){return(this._options.loop||this.index>0)&&this.slideTo(this.index-1),this},next:function(){return(this._options.loop||this.index+1<this.length)&&this.slideTo(this.index+1),this},getIndex:function(){return this.index},destroy:function(){return this._container.off(this.eventNs),b(window).off("ortchange"+this.eventNs),this.$super("destroy")}})}(gmu,gmu.$),function(a,b){b.extend(!0,a.Slider,{options:{autoPlay:!0,interval:4e3}}),a.Slider.register("autoplay",{_init:function(){var a=this;a.on("slideend ready",a.resume).on("destory",a.stop),a.getEl().on("touchstart"+a.eventNs,b.proxy(a.stop,a)).on("touchend"+a.eventNs,b.proxy(a.resume,a))},resume:function(){var a=this,b=a._options;return b.autoPlay&&!a._timer&&(a._timer=setTimeout(function(){a.slideTo(a.index+1),a._timer=null},b.interval)),a},stop:function(){var a=this;return a._timer&&(clearTimeout(a._timer),a._timer=null),a}})}(gmu,gmu.$),function(a){a.Slider.template.item='<div class="ui-slider-item"><a href="<%= href %>"><img lazyload="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>',a.Slider.register("lazyloadimg",{_init:function(){this.on("ready slide",this._loadItems)},_loadItems:function(){var a,b,c=this._options,d=c.loop,e=c.viewNum||1,f=this.index;for(a=f-e,b=f+2*e;b>a;a++)this.loadImage(d?this._circle(a):a)},loadImage:function(b){var c,d=this._items[b];return d&&(c=a.staticCall(d,"find","img[lazyload]"),c.length)?void c.each(function(){this.src=this.getAttribute("lazyload"),this.removeAttribute("lazyload")}):this}})}(gmu),function(a,b,c){var d,e,f,g,h={touchstart:"_onStart",touchmove:"_onMove",touchend:"_onEnd",touchcancel:"_onEnd",click:"_onClick"};b.extend(a.Slider.options,{stopPropagation:!1,disableScroll:!1}),a.Slider.register("touch",{_init:function(){var a=this,b=a.getEl();a._handler=function(b){return a._options.stopPropagation&&b.stopPropagation(),h[b.type]&&a[h[b.type]].call(a,b)},a.on("ready",function(){b.on("touchstart"+a.eventNs,a._handler),a._container.on("click"+a.eventNs,a._handler)})},_onClick:function(){return!g},_onStart:function(a){if(a.touches.length>1)return!1;var b,h=this,i=a.touches[0],j=h._options,k=h.eventNs;e={x:i.pageX,y:i.pageY,time:+new Date},f={},g=!1,d=c,b=j.viewNum||1,h._move(j.loop?h._circle(h.index-b):h.index-b,-h.width,0,!0),h._move(j.loop?h._circle(h.index+b):h.index+b,h.width,0,!0),h.$el.on("touchmove"+k+" touchend"+k+" touchcancel"+k,h._handler)},_onMove:function(a){if(a.touches.length>1||a.scale&&1!==a.scale)return!1;var b,c,h,i,j=this._options,k=j.viewNum||1,l=a.touches[0],m=this.index;if(j.disableScroll&&a.preventDefault(),f.x=l.pageX-e.x,f.y=l.pageY-e.y,"undefined"==typeof d&&(d=Math.abs(f.x)<Math.abs(f.y)),!d){for(a.preventDefault(),j.loop||(f.x/=!m&&f.x>0||m===this._items.length-1&&f.x<0?Math.abs(f.x)/this.width+1:1),i=this._slidePos,b=m-k,c=m+2*k;c>b;b++)h=j.loop?this._circle(b):b,this._translate(h,f.x+i[h],0);g=!0}},_onEnd:function(){if(this.$el.off("touchmove"+this.eventNs+" touchend"+this.eventNs+" touchcancel"+this.eventNs,this._handler),g){var a,b,c,d,h,i=this,j=i._options,k=j.viewNum||1,l=i.index,m=i._slidePos,n=+new Date-e.time,o=Math.abs(f.x),p=!j.loop&&(!l&&f.x>0||l===m.length-k&&f.x<0),q=f.x>0?1:-1;if(250>n?(a=o/n,b=Math.min(Math.round(a*k*1.2),k)):b=Math.round(o/(i.perWidth||i.width)),b&&!p)i._slide(l,b,q,i.width,j.speed,j,!0),k>1&&n>=250&&Math.ceil(o/i.perWidth)!==b&&(i.index<l?i._move(i.index-1,-i.perWidth,j.speed):i._move(i.index+k,i.width,j.speed));else for(c=l-k,d=l+2*k;d>c;c++)h=j.loop?i._circle(c):c,i._translate(h,m[h],j.speed)}}})}(gmu,gmu.$),function(a,b){b.extend(!0,a.Slider,{template:{dots:'<p class="ui-slider-dots"><%= new Array( len + 1 ).join("<b></b>") %></p>'},options:{dots:!0,selector:{dots:".ui-slider-dots"}}}),a.Slider.option("dots",!0,function(){var c=function(b,c){var d=this._dots;"undefined"==typeof c||a.staticCall(d[c%this.length],"removeClass","ui-state-active"),a.staticCall(d[b%this.length],"addClass","ui-state-active")};this.on("done.dom",function(a,c,d){var e=c.find(d.selector.dots);
e.length||(e=this.tpl2html("dots",{len:this.length}),e=b(e).appendTo(c)),this._dots=e.children().toArray()}),this.on("slide",function(a,b,d){c.call(this,b,d)}),this.on("ready",function(){c.call(this,this.index)})})}(gmu,gmu.$),function(a,b){var c=0;gmu.define("Suggestion",{options:{historyShare:!0,confirmClearHistory:!0,closefunc:null,autoClose:!0},template:{wrapper:'<div class="ui-suggestion"><div class="ui-suggestion-content"></div><div class="ui-suggestion-button"><span class="ui-suggestion-clear">清除历史记录</span><span class="ui-suggestion-close">关闭</span></div></div>'},_initDom:function(){var b=this,d=b.getEl().attr("autocomplete","off"),e=d.parent(".ui-suggestion-mask");return e.length?b.$mask=e:d.wrap(b.$mask=a('<div class="ui-suggestion-mask"></div>')),b.$mask.append(b.tpl2html("wrapper")),b.$wrapper=b.$mask.find(".ui-suggestion").prop("id","ui-suggestion-"+c++),b.$content=b.$wrapper.css("top",(d.height()||44)+(b.wrapperTop=parseInt(b.$wrapper.css("top"),10)||0)).find(".ui-suggestion-content"),b.$btn=b.$wrapper.find(".ui-suggestion-button"),b.$clearBtn=b.$btn.find(".ui-suggestion-clear"),b.$closeBtn=b.$btn.find(".ui-suggestion-close"),b.trigger("initdom")},_bindEvent:function(){var b=this,c=b.getEl(),d=b.eventNs;return b._options.autoClose&&a(document).on("click"+d,function(c){!a.contains(b.$mask.get(0),c.target)&&b.hide()}),c.on("focus"+d,function(){!b.isShow&&b._showList().trigger("open")}),c.on("input"+d,function(){b._showList()}),b.$clearBtn.on("click"+d,function(){b.history(null)}).highlight("ui-suggestion-highlight"),b.$closeBtn.on("click"+d,function(){b.getEl().blur(),b._options.closefunc&&b._options.closefunc(b.getEl(),!0),b.hide().trigger("close")}).highlight("ui-suggestion-highlight"),b},_create:function(){var b=this,d=b._options,e=d.historyShare;return d.container&&(b.$el=a(d.container)),b.key=e?("boolean"===a.type(e)?"":e+"-")+"wm-sug-his":b.getEl().attr("id")||"ui-suggestion-"+c++,b.separator=encodeURIComponent(","),b._initDom()._bindEvent(),b},_showList:function(){var b,c=this,d=c.value();return d?c._options.source?c.trigger("sendrequest",d,a.proxy(c._render,c),a.proxy(c._cacheData,c)):c.hide():(c.hide(),(b=c._localStorage())&&c._render(d,b.split(c.separator))),c},_render:function(b,c){this.trigger("renderlist",c,b,a.proxy(this._fillWrapper,this))},_fillWrapper:function(a){return this.$clearBtn[this.value()?"hide":"show"](),a?(this.$content.html(a),this.show()):this.hide(),this},_localStorage:function(c){var d,e,f=this,g=f.key,h=f.separator;try{if(d=b.localStorage,void 0===c)return d[g];null===c?d[g]="":c&&(e=d[g]?d[g].split(h):[],~a.inArray(c,e)||(e.unshift(c),d[g]=e.join(h)))}catch(i){console.log(i.message)}return f},_cacheData:function(a,b){return this.cacheData||(this.cacheData={}),void 0!==b?this.cacheData[a]=b:this.cacheData[a]},value:function(){return this.getEl().val()},history:function(a){var b=this,c=null!==a||function(){return b._localStorage(null).hide()};return a?b._localStorage(a):b._options.confirmClearHistory?Wm.message("清除全部查询历史记录？",function(){c()}):c()},show:function(){return this.isShow?this:(this.$wrapper.show(),this.isShow=!0,this.trigger("show"))},hide:function(){return this.isShow?(this.$wrapper.hide(),this.isShow=!1,this.trigger("hide")):this},destroy:function(){var b=this,c=b.getEl(),d=b.ns;return b.trigger("destroy"),c.off(d),b.$mask.replaceWith(c),b.$clearBtn.off(d),b.$closeBtn.off(d),b.$wrapper.children().off().remove(),b.$wrapper.remove(),b._options.autoClose&&a(document).off(d),this.destroyed=!0,b}})}(gmu.$,window),function(a,b){function c(a){return""===g?a:(a=a.charAt(0).toUpperCase()+a.substr(1),g+a)}var d=Math,e=[],f=b.createElement("div").style,g=function(){for(var a,b="webkitT,MozT,msT,OT,t".split(","),c=0,d=b.length;d>c;c++)if(a=b[c]+"ransform",a in f)return b[c].substr(0,b[c].length-1);return!1}(),h=g?"-"+g.toLowerCase()+"-":"",i=c("transform"),j=c("transitionProperty"),k=c("transitionDuration"),l=c("transformOrigin"),m=c("transitionTimingFunction"),n=(c("transitionDelay"),/android/gi.test(navigator.appVersion)),o=/hp-tablet/gi.test(navigator.appVersion),p=c("perspective")in f,q="ontouchstart"in a&&!o,r=!!g,s=c("transition")in f,t="onorientationchange"in a?"orientationchange":"resize",u=q?"touchstart":"mousedown",v=q?"touchmove":"mousemove",w=q?"touchend":"mouseup",x=q?"touchcancel":"mouseup",y=function(){if(g===!1)return!1;var a={"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"};return a[g]}(),z=function(){return a.requestAnimationFrame||a.webkitRequestAnimationFrame||a.mozRequestAnimationFrame||a.oRequestAnimationFrame||a.msRequestAnimationFrame||function(a){return setTimeout(a,1)}}(),A=function(){return a.cancelRequestAnimationFrame||a.webkitCancelAnimationFrame||a.webkitCancelRequestAnimationFrame||a.mozCancelRequestAnimationFrame||a.oCancelRequestAnimationFrame||a.msCancelRequestAnimationFrame||clearTimeout}(),B=p?" translateZ(0)":"",C=function(c,d){var e,f=this;f.wrapper="object"==typeof c?c:b.getElementById(c),f.wrapper.style.overflow="hidden",f.scroller=f.wrapper.children[0],f.translateZ=B,f.options={hScroll:!0,vScroll:!0,x:0,y:0,bounce:!0,bounceLock:!1,momentum:!0,lockDirection:!0,useTransform:!0,useTransition:!1,topOffset:0,checkDOMChanges:!1,handleClick:!0,onRefresh:null,onBeforeScrollStart:function(a){for(var b=a.target;1!=b.nodeType;)b=b.parentNode;"SELECT"!=b.tagName&&"INPUT"!=b.tagName&&"TEXTAREA"!=b.tagName&&a.preventDefault()},onScrollStart:null,onBeforeScrollMove:null,onScrollMove:null,onBeforeScrollEnd:null,onScrollEnd:null,onTouchEnd:null,onDestroy:null};for(e in d)f.options[e]=d[e];f.x=f.options.x,f.y=f.options.y,f.options.useTransform=r&&f.options.useTransform,f.options.useTransition=s&&f.options.useTransition,f.scroller.style[j]=f.options.useTransform?h+"transform":"top left",f.scroller.style[k]="0",f.scroller.style[l]="0 0",f.options.useTransition&&(f.scroller.style[m]="cubic-bezier(0.33,0.66,0.66,1)"),f.options.useTransform?f.scroller.style[i]="translate("+f.x+"px,"+f.y+"px)"+B:f.scroller.style.cssText+=";position:absolute;top:"+f.y+"px;left:"+f.x+"px",f.refresh(),f._bind(t,a),f._bind(u),f.options.checkDOMChanges&&(f.checkDOMTime=setInterval(function(){f._checkDOMChanges()},500))};C.prototype={enabled:!0,x:0,y:0,steps:[],scale:1,currPageX:0,currPageY:0,pagesX:[],pagesY:[],aniTime:null,isStopScrollAction:!1,handleEvent:function(a){var b=this;switch(a.type){case u:if(!q&&0!==a.button)return;b._start(a);break;case v:b._move(a);break;case w:case x:b._end(a);break;case t:b._resize();break;case y:b._transitionEnd(a)}},_checkDOMChanges:function(){this.moved||this.animating||this.scrollerW==this.scroller.offsetWidth*this.scale&&this.scrollerH==this.scroller.offsetHeight*this.scale||this.refresh()},_resize:function(){var a=this;setTimeout(function(){a.refresh()},n?200:0)},_pos:function(a,b){a=this.hScroll?a:0,b=this.vScroll?b:0,this.options.useTransform?this.scroller.style[i]="translate("+a+"px,"+b+"px) scale("+this.scale+")"+B:(a=d.round(a),b=d.round(b),this.scroller.style.left=a+"px",this.scroller.style.top=b+"px"),this.x=a,this.y=b},_start:function(b){var c,e,f,g=this,h=q?b.touches[0]:b;g.enabled&&(g.options.onBeforeScrollStart&&g.options.onBeforeScrollStart.call(g,b),g.options.useTransition&&g._transitionTime(0),g.moved=!1,g.animating=!1,g.distX=0,g.distY=0,g.absDistX=0,g.absDistY=0,g.dirX=0,g.dirY=0,g.isStopScrollAction=!1,g.options.momentum&&(g.options.useTransform?(c=getComputedStyle(g.scroller,null)[i].replace(/[^0-9\-.,]/g,"").split(","),e=+c[4],f=+c[5]):(e=+getComputedStyle(g.scroller,null).left.replace(/[^0-9-]/g,""),f=+getComputedStyle(g.scroller,null).top.replace(/[^0-9-]/g,"")),(d.round(e)!=d.round(g.x)||d.round(f)!=d.round(g.y))&&(g.isStopScrollAction=!0,g.options.useTransition?g._unbind(y):A(g.aniTime),g.steps=[],g._pos(e,f),g.options.onScrollEnd&&g.options.onScrollEnd.call(g))),g.startX=g.x,g.startY=g.y,g.pointX=h.pageX,g.pointY=h.pageY,g.startTime=b.timeStamp||Date.now(),g.options.onScrollStart&&g.options.onScrollStart.call(g,b),g._bind(v,a),g._bind(w,a),g._bind(x,a))},_move:function(a){var b=this,c=q?a.touches[0]:a,e=c.pageX-b.pointX,f=c.pageY-b.pointY,g=b.x+e,h=b.y+f,i=a.timeStamp||Date.now();b.options.onBeforeScrollMove&&b.options.onBeforeScrollMove.call(b,a),b.pointX=c.pageX,b.pointY=c.pageY,(g>0||g<b.maxScrollX)&&(g=b.options.bounce?b.x+e/2:g>=0||b.maxScrollX>=0?0:b.maxScrollX),(h>b.minScrollY||h<b.maxScrollY)&&(h=b.options.bounce?b.y+f/2:h>=b.minScrollY||b.maxScrollY>=0?b.minScrollY:b.maxScrollY),b.distX+=e,b.distY+=f,b.absDistX=d.abs(b.distX),b.absDistY=d.abs(b.distY),b.absDistX<6&&b.absDistY<6||(b.options.lockDirection&&(b.absDistX>b.absDistY+5?(h=b.y,f=0):b.absDistY>b.absDistX+5&&(g=b.x,e=0)),b.moved=!0,b._beforePos?b._beforePos(h,f)&&b._pos(g,h):b._pos(g,h),b.dirX=e>0?-1:0>e?1:0,b.dirY=f>0?-1:0>f?1:0,i-b.startTime>300&&(b.startTime=i,b.startX=b.x,b.startY=b.y),b.options.onScrollMove&&b.options.onScrollMove.call(b,a))},_end:function(c){if(!q||0===c.touches.length){var e,f,g,h=this,i=q?c.changedTouches[0]:c,j={dist:0,time:0},k={dist:0,time:0},l=(c.timeStamp||Date.now())-h.startTime,m=h.x,n=h.y;if(h._unbind(v,a),h._unbind(w,a),h._unbind(x,a),h.options.onBeforeScrollEnd&&h.options.onBeforeScrollEnd.call(h,c),!h.moved)return q&&this.options.handleClick&&!h.isStopScrollAction&&(h.doubleTapTimer=setTimeout(function(){for(h.doubleTapTimer=null,e=i.target;1!=e.nodeType;)e=e.parentNode;"SELECT"!=e.tagName&&"INPUT"!=e.tagName&&"TEXTAREA"!=e.tagName&&(f=b.createEvent("MouseEvents"),f.initMouseEvent("click",!0,!0,c.view,1,i.screenX,i.screenY,i.clientX,i.clientY,c.ctrlKey,c.altKey,c.shiftKey,c.metaKey,0,null),f._fake=!0,e.dispatchEvent(f))},0)),h._resetPos(400),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,c));if(300>l&&h.options.momentum&&(j=m?h._momentum(m-h.startX,l,-h.x,h.scrollerW-h.wrapperW+h.x,h.options.bounce?h.wrapperW:0):j,k=n?h._momentum(n-h.startY,l,-h.y,h.maxScrollY<0?h.scrollerH-h.wrapperH+h.y-h.minScrollY:0,h.options.bounce?h.wrapperH:0):k,m=h.x+j.dist,n=h.y+k.dist,(h.x>0&&m>0||h.x<h.maxScrollX&&m<h.maxScrollX)&&(j={dist:0,time:0}),(h.y>h.minScrollY&&n>h.minScrollY||h.y<h.maxScrollY&&n<h.maxScrollY)&&(k={dist:0,time:0})),j.dist||k.dist)return g=d.max(d.max(j.time,k.time),10),h.scrollTo(d.round(m),d.round(n),g),void(h.options.onTouchEnd&&h.options.onTouchEnd.call(h,c));h._resetPos(200),h.options.onTouchEnd&&h.options.onTouchEnd.call(h,c)}},_resetPos:function(a){var b=this,c=b.x>=0?0:b.x<b.maxScrollX?b.maxScrollX:b.x,d=b.y>=b.minScrollY||b.maxScrollY>0?b.minScrollY:b.y<b.maxScrollY?b.maxScrollY:b.y;return c==b.x&&d==b.y?void(b.moved&&(b.moved=!1,b.options.onScrollEnd&&b.options.onScrollEnd.call(b),b._afterPos&&b._afterPos())):void b.scrollTo(c,d,a||0)},_transitionEnd:function(a){var b=this;a.target==b.scroller&&(b._unbind(y),b._startAni())},_startAni:function(){var a,b,c,e=this,f=e.x,g=e.y,h=Date.now();if(!e.animating){if(!e.steps.length)return void e._resetPos(400);if(a=e.steps.shift(),a.x==f&&a.y==g&&(a.time=0),e.animating=!0,e.moved=!0,e.options.useTransition)return e._transitionTime(a.time),e._pos(a.x,a.y),e.animating=!1,void(a.time?e._bind(y):e._resetPos(0));c=function(){var i,j,k=Date.now();return k>=h+a.time?(e._pos(a.x,a.y),e.animating=!1,e.options.onAnimationEnd&&e.options.onAnimationEnd.call(e),void e._startAni()):(k=(k-h)/a.time-1,b=d.sqrt(1-k*k),i=(a.x-f)*b+f,j=(a.y-g)*b+g,e._pos(i,j),void(e.animating&&(e.aniTime=z(c))))},c()}},_transitionTime:function(a){a+="ms",this.scroller.style[k]=a},_momentum:function(a,b,c,e,f){var g=6e-4,h=d.abs(a)*(this.options.speedScale||1)/b,i=h*h/(2*g),j=0,k=0;return a>0&&i>c?(k=f/(6/(i/h*g)),c+=k,h=h*c/i,i=c):0>a&&i>e&&(k=f/(6/(i/h*g)),e+=k,h=h*e/i,i=e),i*=0>a?-1:1,j=h/g,{dist:i,time:d.round(j)}},_offset:function(a){for(var b=-a.offsetLeft,c=-a.offsetTop;a=a.offsetParent;)b-=a.offsetLeft,c-=a.offsetTop;return a!=this.wrapper&&(b*=this.scale,c*=this.scale),{left:b,top:c}},_bind:function(a,b,c){e.concat([b||this.scroller,a,this]),(b||this.scroller).addEventListener(a,this,!!c)},_unbind:function(a,b,c){(b||this.scroller).removeEventListener(a,this,!!c)},destroy:function(){var b=this;b.scroller.style[i]="",b._unbind(t,a),b._unbind(u),b._unbind(v,a),b._unbind(w,a),b._unbind(x,a),b.options.useTransition&&b._unbind(y),b.options.checkDOMChanges&&clearInterval(b.checkDOMTime),b.options.onDestroy&&b.options.onDestroy.call(b);for(var c=0,d=e.length;d>c;)e[c].removeEventListener(e[c+1],e[c+2]),e[c]=null,c+=3;e=[]},refresh:function(){var a,b=this;b.wrapperW=b.wrapper.clientWidth||1,b.wrapperH=b.wrapper.clientHeight||1,b.minScrollY=-b.options.topOffset||0,b.scrollerW=d.round(b.scroller.offsetWidth*b.scale),b.scrollerH=d.round((b.scroller.offsetHeight+b.minScrollY)*b.scale),b.maxScrollX=b.wrapperW-b.scrollerW,b.maxScrollY=b.wrapperH<b.scrollerH?b.wrapperH-b.scrollerH+b.minScrollY:0,b.dirX=0,b.dirY=0,b.options.onRefresh&&b.options.onRefresh.call(b),b.hScroll=b.options.hScroll&&b.maxScrollX<0,b.vScroll=b.options.vScroll&&(!b.options.bounceLock&&!b.hScroll||b.scrollerH>b.wrapperH),a=b._offset(b.wrapper),b.wrapperOffsetLeft=-a.left,b.wrapperOffsetTop=-a.top,b.scroller.style[k]="0",b._resetPos(400)},scrollTo:function(a,b,c,d){var e,f,g=this,h=a;for(g.stop(),h.length||(h=[{x:a,y:b,time:c,relative:d}]),e=0,f=h.length;f>e;e++)h[e].relative&&(h[e].x=g.x-h[e].x,h[e].y=g.y-h[e].y),g.steps.push({x:h[e].x,y:h[e].y,time:h[e].time||0});g._startAni()},scrollToElement:function(a,b){var c,e=this;a=a.nodeType?a:e.scroller.querySelector(a),a&&(c=e._offset(a),c.left+=e.wrapperOffsetLeft,c.top+=e.wrapperOffsetTop,c.left=c.left>0?0:c.left<e.maxScrollX?e.maxScrollX:c.left,c.top=c.top>e.minScrollY?e.minScrollY:c.top<e.maxScrollY?e.maxScrollY:c.top,b=void 0===b?d.max(2*d.abs(c.left),2*d.abs(c.top)):b,e.scrollTo(c.left,c.top,b))},scrollToPage:function(a,b,c){var d,e,f=this;c=void 0===c?400:c,f.options.onScrollStart&&f.options.onScrollStart.call(f),d=-f.wrapperW*a,e=-f.wrapperH*b,d<f.maxScrollX&&(d=f.maxScrollX),e<f.maxScrollY&&(e=f.maxScrollY),f.scrollTo(d,e,c)},disable:function(){this.stop(),this._resetPos(0),this.enabled=!1,this._unbind(v,a),this._unbind(w,a),this._unbind(x,a)},enable:function(){this.enabled=!0},stop:function(){this.options.useTransition?this._unbind(y):A(this.aniTime),this.steps=[],this.moved=!1,this.animating=!1},isReady:function(){return!this.moved&&!this.animating}},f=null,"undefined"!=typeof exports?exports.iScroll=C:a.iScroll=C,function(a,b,c){if(a){var d,e=b.iScroll,f=[].slice,g=function(){var a={},b=0,d="_sid";return function(e,f){var g=e[d]||(e[d]=++b);return f!==c&&(a[g]=f),null===f&&delete a[g],a[g]}}();b.iScroll=d=function(a,b){var c=([].slice.call(arguments,0),new e(a,b));return g(a,c),c},d.prototype=e.prototype,a.fn.iScroll=function(b){var e,h,i=f.call(arguments,1),j="string"==typeof b&&b;return a.each(this,function(f,k){if(h=g(k)||d(k,a.isPlainObject(b)?b:c),"this"===j)return e=h,!1;if(j){if(!a.isFunction(h[j]))throw new Error("iScroll没有此方法："+j);if(e=h[j].apply(h,i),e!==c&&e!==h)return!1;e=c}}),e!==c?e:this}}}(a.Zepto||null,a)}(window,document),function(a,b){a.Suggestion.register("iscroll",{_init:function(){var a=this;return a.on("ready",function(){a.$scroller=b('<div class="ui-suggestion-scroller"></div>'),a.$content.wrapInner(a.$scroller).iScroll({hScroll:!1,onRefresh:function(){this.y&&this.scrollTo(0,0)}}),a.on("destroy",function(){a.$content.iScroll("destroy")})}),a},_fillWrapper:function(a){return this.$clearBtn[this.value()?"hide":"show"](),a?(this.show().$scroller.html(a),this.$content.iScroll("refresh")):this.hide(),this}})}(gmu,gmu.$),function(a){a.extend(gmu.Suggestion.options,{isHistory:!0,usePlus:!1,listCount:5,submit:!0,renderlist:null}),gmu.Suggestion.option("renderlist",function(){return"function"!==a.type(this._options.renderlist)},function(){var b=this,c=a("<div></div>"),d=function(a){return c.text(a).html()},e=function(c,e){var f,g,h,i=b._options,j=[],k="",l="",m="";if(!e||!e.length)return i.closefunc?(j.push('<li class="no-result" data="-1">其他（无匹配结果请选择该项）</li>'),j):(b.hide(),j);for(e=e.slice(0,i.listCount),c=d(c||""),h=0,g=e.length;g>h;h++){if(i.rederData){var n=i.rederData(e[h]);k=d(f=n.sug),l=n.data,m=n.subtitle}else k=d(f=e[h]);c&&(k=a.trim(f).replace(c,'<span class="ui-suggestion-word">'+c+"</span>")),i.usePlus&&(k+='<div class="ui-suggestion-plus" data-item="'+f+'"></div>'),j.push('<li data="'+l+'"><span class="ui-suggestion-text">'+k+'</span><span class="ui-suggestion-subtitle">'+m+"<span></li>")}return j};b.on("ready",function(){var b=this,c=b.eventNs,d=a(b._options.form||b.getEl().closest("form"));d.size()&&(b.$form=d.on("submit"+c,function(c){var d=gmu.Event("submit"),e=b.value();e=a.trim(e.replace(/[^ \u4E00-\u9FA50-9a-zA-Z\-]/g,"")),b.getEl().val(e),e?(b._options.isHistory&&b._localStorage(e),b.trigger(d),d.isDefaultPrevented()&&c.preventDefault()):c.preventDefault()})),b.$content.on("touchstart"+c,function(a){a.preventDefault()}),b.$content.on(("ontouchend"in document?"tap":"click")+c,function(c){var e=b.getEl(),f=a(c.target);f.hasClass("ui-suggestion-plus")?e.val(f.attr("data-item")).attr("data",f.attr("data")):a.contains(b.$content.get(0),f.get(0))&&((f.hasClass("ui-suggestion-text")||f.hasClass("ui-suggestion-subtitle"))&&(f=f.parent()),setTimeout(function(){e.attr("data",f.attr("data"));var a;(a=f.find(".ui-suggestion-text").text())&&e.val(a),b._options.closefunc&&b._options.closefunc(e),b.trigger("select",f).hide(),b._options.submit&&d.submit()},400))}).highlight("ui-suggestion-highlight"),b.on("destroy",function(){d.size()&&d.off(c),b.$content.off()})}),b.on("renderlist",function(a,b,c,d){var f=e(c,b);return d(f.length?"<ul>"+f.join(" ")+"</ul>":"")})})}(gmu.$),function(a,b){a.extend(gmu.Suggestion.options,{isCache:!0,queryKey:"wd",cbKey:"cb",sendrequest:null}),gmu.Suggestion.option("sendrequest",function(){return"function"!==a.type(this._options.sendrequest)&&this._options.source},function(){var c,d=this,e=d._options,f=e.queryKey,g=e.cbKey,h=e.param,i=e.isCache;this.on("sendrequest",function(j,k,l,m){var n=e.source,o="suggestion_"+ +new Date;return i&&(c=m(k))?(l(k,c),d):(n=(n+"&"+f+"="+encodeURIComponent(k)).replace(/[&?]{1,2}/,"?"),!~n.indexOf("&"+g)&&(n+="&"+g+"="+o),h&&(n+="&"+h),b[o]=function(a){l(k,a.s),i&&m(k,a.s),delete b[o]},a.ajax({url:n,dataType:"jsonp"}),d)})})}(gmu.$,window),function(a,b,c){a.define("Popover",{options:{container:null,content:null,disapper:null,autoClose:!0,event:"click"},template:{frame:"<div>"},_create:function(){var a=this,c=a._options,d=c.target&&b(c.target)||a.getEl(),e=c.container&&b(c.container);e&&e.length||(e=b(a.tpl2html("frame")).addClass("ui-mark-temp")),a.$root=e,c.content&&a.setContent(c.content),a.trigger("done.dom",e.addClass("ui-"+a.widgetName),c),e.parent().length||d.after(e),a.target(d),c.autoClose&&b(document).on("click"+this.eventNs,function(c){c.target!=d.get(0)&&!b.contains(e.get(0),c.target)&&a.hide()})},_checkTemp:function(a){a.is(".ui-mark-temp")&&a.off(this.eventNs)&&a.remove()},show:function(){var b=this,c=a.Event("beforeshow");return b.trigger(c),c.isDefaultPrevented()?void 0:(b.trigger("placement",b.$root.addClass("ui-in"),b.$target),b._visible=!0,b._options.disapper&&(b.distimer&&clearTimeout(b.distimer),b.distimer=setTimeout(function(){b.hide()},b._options.disapper)),b.trigger("show"))},hide:function(){var b=this,c=new a.Event("beforehide");return b.trigger(c),c.isDefaultPrevented()?void 0:(b.$root.removeClass("ui-in"),b._visible=!1,b.trigger("hide"))},toggle:function(){var a=this;return a[a._visible?"hide":"show"].apply(a,arguments)},target:function(a){if(a===c)return this.$target;var d=this,e=b(a),f=d.$target,g=d._options.event+d.eventNs;return f&&f.off(g),d.$target=e.on(g,function(a){a.preventDefault(),d.toggle()}),d},setContent:function(a){var b=this.$root;return b.empty().append(a),this},destroy:function(){var a=this;return a.$target.off(a.eventNs),a._checkTemp(a.$root),a._options.autoClose&&b(document).off(this.eventNs),a.$super("destroy")}})}(gmu,gmu.$);